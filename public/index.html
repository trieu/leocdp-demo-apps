<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#000000" />
  <title> Stock Trading Demo for LEO CDP</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

  <script>
    // default configs to test
    window.DEFAULT_CONFIGS = {
      DATA_SOURCE_URL: "/mock/stocks.json",
      TEST_USER_NAME: "test",
      TEST_USER_PASSWORD: "1234"
    };

    // to synch user contact into LEO CDP
    function submitTestUserContact() {
      LeoObserver.recordEventSubmitContact({ "firstName": "Trieu", "email": "trieu@leocdp.com", "phone": "0901111111" })
    }
  </script>
</head>

<body>
  <noscript>You need to enable JavaScript to run this app.</noscript>
  <div id="root"></div>

  <script>
    // (1) CDP_EVENT_OBSERVER: load JavaScript code for [Localhost]
    (function () {
      // Observer ID
      window.leoObserverId = "cOFStgz29EffBE2gyaVqf";
      window.leoObserverBatchSize = 5;

      // CDN of JS
      window.leoObserverLogDomain = "obs.example.com";
      window.leoObserverCdnDomain = "obs.example.com";
    })();

    (function () {
      // ===== Leo Proxy URL =====
      var leoproxyJsPath = "/public/js/leo-observer-src/leo.proxy.js";
      var proxySrc =
        location.protocol +
        "//" +
        window.leoObserverCdnDomain +
        leoproxyJsPath;

      // ===== Create Leo Proxy Script =====
      var proxyScript = document.createElement("script");
      proxyScript.src = proxySrc;
      proxyScript.async = true;
      proxyScript.defer = true;

      // ===== When Leo Proxy is READY â†’ load CDP tracking =====
      proxyScript.onload = function () {
        var trackingScript = document.createElement("script");
        trackingScript.src = "cdp.tracking.js";
        trackingScript.async = true;
        document.head.appendChild(trackingScript);
      };

      // ===== Insert proxy first =====
      document.head.appendChild(proxyScript);

      // ===== Data Touchpoint Metadata =====
      window.srcTouchpointName = encodeURIComponent(document.title);
      window.srcTouchpointUrl = encodeURIComponent(location.href);
    })();
  </script>


</body>

</html>